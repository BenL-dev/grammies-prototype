<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Games - Kostenloses Starter-Pack erhalten</title>
    <link rel="stylesheet" href="shared.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- A/B Test Variant Selector -->
    <div class="variant-selector">
        <a href="index.html?variant=A" class="variant-btn">Variante A: 10-Min Games</a>
        <a href="index.html?variant=B" class="variant-btn">Variante B: Multisensory Grammar</a>
    </div>

    <!-- Screen 4: Email Capture -->
    <div class="screen">
        <div class="container">
            <div class="back-nav">
                <a href="#" onclick="navigateWithTracking('chooser.html', 'back-click'); return false;" class="back-btn">← Zurück</a>
            </div>
            
            <div class="capture-content" style="max-width: 600px; margin: 0 auto; text-align: center;">
                <h2>Kostenloses Starter-Pack erhalten</h2>
                <p class="subtitle">3 sofort einsetzbare Grammar Games + Anleitung per E-Mail</p>
                
                <div class="card" style="margin-bottom: 40px;">
                    <h3 id="pack-title">Ihr persönliches Starter-Pack:</h3>
                    <div class="pack-contents" id="pack-contents">
                        <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                            <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">📋</div>
                            <span style="font-weight: 500; color: #2c3e50;">3 Printable Game-Karten</span>
                        </div>
                        <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                            <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">📖</div>
                            <span style="font-weight: 500; color: #2c3e50;">Schritt-für-Schritt Anleitung</span>
                        </div>
                        <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                            <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🎯</div>
                            <span style="font-weight: 500; color: #2c3e50;">Altersgerechte Schwierigkeit</span>
                        </div>
                        <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">⏱️</div>
                            <span style="font-weight: 500; color: #2c3e50;">Je nur 10 Minuten</span>
                        </div>
                    </div>
                </div>
                
                <form id="email-form" class="email-form" onsubmit="submitEmail(event); return false;" style="margin-bottom: 30px;">
                    <div class="form-group">
                        <input type="email" id="email-input" placeholder="Ihre E-Mail-Adresse" required>
                        <input type="text" id="name-input" placeholder="Ihr Vorname (optional)">
                    </div>
                    
                    <button type="submit" class="cta-button primary large" id="submit-btn">
                        🎁 Kostenloses Starter-Pack erhalten
                    </button>
                </form>
                
                <div class="trust-indicators">
                    <div class="indicator">✓ Kostenlos & unverbindlich</div>
                    <div class="indicator">✓ Sofortiger Download</div>
                    <div class="indicator">✓ Keine Spam-Mails</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Panel -->
    <div class="analytics-panel">
        <h3>📊 Screen 4: Email Capture</h3>
        <div class="metric">
            <span class="label">Chooser → Capture CTR:</span>
            <span class="value" id="ctr-chooser-capture">0%</span>
        </div>
        <div class="metric">
            <span class="label">Email Submit Rate:</span>
            <span class="value" id="email-submit-rate">0%</span>
        </div>
        <div class="metric">
            <span class="label">🎯 Ziel:</span>
            <span class="value">8-12% Submit</span>
        </div>
        <div class="metric">
            <span class="label">Hauptkonversion:</span>
            <span class="value">★ Kritischer Screen</span>
        </div>
    </div>

    <script src="analytics.js"></script>
    <script>
        // Update pack content based on age from URL parameter
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const age = urlParams.get('age');
            
            if (age) {
                updatePackContent(age);
            }
        });
        
        function updatePackContent(age) {
            const packTitle = document.getElementById('pack-title');
            const packContents = document.getElementById('pack-contents');
            
            if (age === '4-6') {
                packTitle.textContent = 'Ihr Starter-Pack für 4-6 Jahre:';
                packContents.innerHTML = `
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🐱</div>
                        <span style="font-weight: 500; color: #2c3e50;">Tier-Wörter Sortier-Spiel</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🌈</div>
                        <span style="font-weight: 500; color: #2c3e50;">Farben-Adjektive Memory</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🏃‍♂️</div>
                        <span style="font-weight: 500; color: #2c3e50;">Action-Verben Pantomime</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">📖</div>
                        <span style="font-weight: 500; color: #2c3e50;">Eltern-Anleitung (einfach erklärt)</span>
                    </div>
                `;
            } else if (age === '7-10') {
                packTitle.textContent = 'Ihr Starter-Pack für 7-10 Jahre:';
                packContents.innerHTML = `
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">📝</div>
                        <span style="font-weight: 500; color: #2c3e50;">Sätze-Konstruktor Spiel</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">⚡</div>
                        <span style="font-weight: 500; color: #2c3e50;">Zeit-Formen-Quiz Karten</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🔤</div>
                        <span style="font-weight: 500; color: #2c3e50;">Wortarten-Memory Advanced</span>
                    </div>
                    <div class="pack-item" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div class="icon" style="font-size: 1.5em; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: linear-gradient(45deg, #FF8A95, #FFB3BA); border-radius: 50%;">🎯</div>
                        <span style="font-weight: 500; color: #2c3e50;">Fortgeschrittene Anleitung</span>
                    </div>
                `;
            }
        }
        
        function submitEmail(event) {
            event.preventDefault();
            
            const emailInput = document.getElementById('email-input');
            const nameInput = document.getElementById('name-input');
            const submitBtn = document.getElementById('submit-btn');
            
            // Validate email
            if (!emailInput.value || !emailInput.value.includes('@')) {
                alert('Bitte geben Sie eine gültige E-Mail-Adresse ein.');
                return;
            }
            
            // Track email submission
            trackClick('email-submit', {
                email: emailInput.value,
                name: nameInput.value || 'Anonymous',
                timestamp: new Date().toISOString()
            });
            
            // Show loading state
            submitBtn.textContent = '📧 Wird gesendet...';
            submitBtn.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // Navigate to thank you page
                navigateWithTracking('thankyou.html', 'email-submitted');
            }, 1500);
        }
    </script>
</body>
</html>
